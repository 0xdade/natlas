{% extends "base.html" %}
{% set title = "Services Information" %}
{% set active_page = "services" %}
{% block content %}
  {% include 'admin/_header.html' %}
  <div class="row">
    <div class="col-xs-12 col-sm-6 col-md-4">
      <legend>Upload Services File</legend>
      <form class="form-inline" action="" method="post" enctype="multipart/form-data">
      {{ uploadForm.hidden_tag() }} 
      <div class="input-group">
          {{ uploadForm.serviceFile(class="btn btn-default")}}
          {{ uploadForm.uploadFile(class="btn btn-primary", style="margin-top:1em;") }}
          <span class="help-block">Upload a whole new nmap-services file. Trailing newlines will be stripped, but any other newlines will be preserved.</span>
        </div>
        </form>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-8">
        <legend>Current Services</legend>
        <h5>Version:
          <small>{{ current_services.id }}</small>
        </h5> 
        
        <h5>SHA256:
          <small>
            <abbr title="{{ current_services.sha256 }}" id="sha256" style="border-bottom:none; cursor:default;">{{ current_services.sha256|truncate(32) }}</abbr>
          </small>
        </h5>
        <form class="form-inline" action="" method="post">
          {{ addServiceForm.hidden_tag() }}
            {{ addServiceForm.serviceName(size=12, class="form-control", placeholder="service-name")}}
            {{ addServiceForm.servicePort(size=5, class="form-control", placeholder="22")}}
            {{ addServiceForm.serviceProtocol(class="custom-select")}}
          <button id="addService" name="addService" title="Add Service" aria-hidden="true" type="submit" class="inline-submit btn-trash text-success ml-2"><i class="fas fa-plus-circle"></i></button>
        </form>
          <pre class="services-box mt-3">{{ current_services.services }}</pre>
          <a href="{{ url_for('admin.exportServices') }}" class="btn btn-primary export-btn" role="button">Export Services</a>
      </div>
  </div>
{% endblock %}